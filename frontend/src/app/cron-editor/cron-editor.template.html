<div class="cron-editor-main">
  <!-- Tabs -->
  <ul class="nav nav-tabs" role="tablist">
    <li role="presentation" *ngIf="!options.hideDailyTab" class="nav-item">
      <a aria-controls="daily" role="tab" data-toggle="tab" (click)="setActiveTab('daily')"
         [ngClass]="{'active': activeTab === 'daily'}"
          class="nav-link">
        Daily
      </a>
    </li>

    <li role="presentation" *ngIf="!options.hideWeeklyTab" class="nav-item">
      <a aria-controls="weekly" role="tab" data-toggle="tab" (click)="setActiveTab('weekly')"
         [ngClass]="{'active': activeTab === 'weekly'}"
         class="nav-link">
        Weekly
      </a>
    </li>

    <li role="presentation" *ngIf="!options.hideMonthlyTab" >
      <a aria-controls="monthly" role="tab" data-toggle="tab" (click)="setActiveTab('monthly')"
         [ngClass]="{'active': activeTab === 'monthly'}"
          class="nav-link">
        Monthly
      </a>
    </li>
  </ul>

  <!-- Tab content -->
  <div class="cron-editor-container">
    <div>
      <div class="col-xs-12">
        <div class="tab-content">
          <!-- Daily-->
          <div class="tab-pane" *ngIf="!options.hideDailyTab" [ngClass]="{'active': activeTab === 'daily'}">
            <div class="well well-small my-4">
              <input type="radio" name="daily-radio" value="everyDays" [disabled]="disabled"
                     (change)="regenerateCron($event)" [(ngModel)]="state.daily.subTab"
                     value="everyDays" [disabled]="disabled" (change)="regenerateCron($event)"
                     [(ngModel)]="state.daily.subTab"
                     [ngClass]="state.formRadioClass" checked="checked"> Every
              <select class="days" [disabled]="disabled || activeTab !== 'daily' || state.daily.subTab !== 'everyDays'"
                      (change)="regenerateCron($event)"
                      [(ngModel)]="state.daily.everyDays.days" [ngClass]="options.formSelectClass">
                <option *ngFor="let monthDay of selectOptions.monthDays" [ngValue]="monthDay">
                  {{monthDay}}
                </option>
              </select> day(s) at

              <cron-time-picker [disabled]="disabled || activeTab !== 'daily' || state.daily.subTab !== 'everyDays'"
                                (onChange)="regenerateCron($event)"
                                [(model)]="state.daily.everyDays" [selectClass]="options.formSelectClass"
                                [use24HourTime]="options.use24HourTime"
                                [hideSeconds]="options.hideSeconds">
              </cron-time-picker>
            </div>

            <div class="well well-small mb-4">
              <input type="radio" name="daily-radio" value="everyWeekDay" [disabled]="disabled"
                     (change)="regenerateCron($event)" [(ngModel)]="state.daily.subTab"
                     [ngClass]="state.formRadioClass"> Every working day at
              <cron-time-picker [disabled]="disabled || activeTab !== 'daily' || state.daily.subTab !== 'everyWeekDay'"
                                (change)="regenerateCron($event)"
                                [(model)]="state.daily.everyWeekDay" [selectClass]="options.formSelectClass"
                                [use24HourTime]="options.use24HourTime"
                                [hideSeconds]="options.hideSeconds">
              </cron-time-picker>
            </div>
          </div>

          <!-- Weekly-->
          <div class="tab-pane" *ngIf="!options.hideWeeklyTab" [ngClass]="{'active': activeTab === 'weekly'}">
            <div class="well well-small my-4">
              <div class="row">
                <div class="col-sm-6">
                  <input type="checkbox" [disabled]="disabled || activeTab !== 'weekly'"
                         (change)="regenerateCron($event)" [(ngModel)]="state.weekly.MON"
                         [ngClass]="options.formCheckboxClass"> Monday
                </div>
                <div class="col-sm-6">
                  <input type="checkbox" [disabled]="disabled || activeTab !== 'weekly'"
                         (change)="regenerateCron($event)" [(ngModel)]="state.weekly.TUE"
                         [ngClass]="options.formCheckboxClass"> Tuesday
                </div>
                <div class="col-sm-6">
                  <input type="checkbox" [disabled]="disabled || activeTab !== 'weekly'"
                         (change)="regenerateCron($event)" [(ngModel)]="state.weekly.WED"
                         [ngClass]="options.formCheckboxClass"> Wednesday
                </div>
                <div class="col-sm-6">
                  <input type="checkbox" [disabled]="disabled || activeTab !== 'weekly'"
                         (change)="regenerateCron($event)" [(ngModel)]="state.weekly.THU"
                         [ngClass]="options.formCheckboxClass"> Thursday
                </div>
                <div class="col-sm-6">
                  <input type="checkbox" [disabled]="disabled || activeTab !== 'weekly'"
                         (change)="regenerateCron($event)" [(ngModel)]="state.weekly.FRI"
                         [ngClass]="options.formCheckboxClass"> Friday
                </div>
                <div class="col-sm-6">
                  <input type="checkbox" [disabled]="disabled || activeTab !== 'weekly'"
                         (change)="regenerateCron($event)" [(ngModel)]="state.weekly.SAT"
                         [ngClass]="options.formCheckboxClass"> Saturday
                </div>
                <div class="col-sm-6">
                  <input type="checkbox" [disabled]="disabled || activeTab !== 'weekly'"
                         (change)="regenerateCron($event)" [(ngModel)]="state.weekly.SUN"
                         [ngClass]="options.formCheckboxClass"> Sunday
                </div>
              </div>
              <div class="row">
                <div class="col-sm-6">
                  at
                  <cron-time-picker [disabled]="disabled || activeTab !== 'weekly'" (change)="regenerateCron($event)"
                                    [(model)]="state.weekly"
                                    [selectClass]="options.formSelectClass" [use24HourTime]="options.use24HourTime"
                                    [hideSeconds]="options.hideSeconds">
                  </cron-time-picker>
                </div>
              </div>
            </div>

          </div>

          <!-- Monthly-->
          <div class="tab-pane" *ngIf="!options.hideMonthlyTab" [ngClass]="{'active': activeTab === 'monthly'}">
            <div class="well well-small my-4">
              <input type="radio" name="monthly-radio" value="specificDay" [disabled]="disabled"
                     (change)="regenerateCron($event)" [(ngModel)]="state.monthly.subTab"
                     [ngClass]="state.formRadioClass"> On the
              <select class="month-days"
                      [disabled]="disabled || activeTab !== 'monthly' || state.monthly.subTab !== 'specificDay'"
                      (change)="regenerateCron($event)"
                      [(ngModel)]="state.monthly.specificDay.day" [ngClass]="options.formSelectClass">
                <option *ngFor="let monthDaysWithLast of selectOptions.monthDaysWithLasts"
                        [ngValue]="monthDaysWithLast">
                  {{monthDayDisplay(monthDaysWithLast)}}
                </option>
              </select> of every
              <select class="months-small"
                      [disabled]="disabled || activeTab !== 'monthly' || state.monthly.subTab !== 'specificDay'"
                      (change)="regenerateCron($event)"
                      [(ngModel)]="state.monthly.specificDay.months" [ngClass]="options.formSelectClass">
                <option *ngFor="let month of selectOptions.months" [ngValue]="month">
                  {{month}}
                </option>
              </select> month(s) at
              <cron-time-picker
                [disabled]="disabled || activeTab !== 'monthly' || state.monthly.subTab !== 'specificDay'"
                (change)="regenerateCron($event)"
                [(model)]="state.monthly.specificDay" [selectClass]="options.formSelectClass"
                [use24HourTime]="options.use24HourTime"
                [hideSeconds]="options.hideSeconds">
              </cron-time-picker>
            </div>
            <div class="well well-small mb-4">
              <input type="radio" name="monthly-radio" value="specificWeekDay" [disabled]="disabled"
                     (change)="regenerateCron($event)"
                     [(ngModel)]="state.monthly.subTab" [ngClass]="state.formRadioClass"> On the
              <select class="day-order-in-month"
                      [disabled]="disabled || activeTab !== 'monthly' || state.monthly.subTab !== 'specificWeekDay'"
                      (change)="regenerateCron($event)" [(ngModel)]="state.monthly.specificWeekDay.monthWeek"
                      [ngClass]="options.formSelectClass">
                <option *ngFor="let monthWeek of selectOptions.monthWeeks" [ngValue]="monthWeek">
                  {{monthWeekDisplay(monthWeek)}}
                </option>
              </select>
              <select class="week-days"
                      [disabled]="disabled || activeTab !== 'monthly' || state.monthly.subTab !== 'specificWeekDay'"
                      (change)="regenerateCron($event)" [(ngModel)]="state.monthly.specificWeekDay.day"
                      [ngClass]="options.formSelectClass">
                <option *ngFor="let day of selectOptions.days" [ngValue]="day">
                  {{dayDisplay(day)}}
                </option>
              </select> of every
              <select class="months-small"
                      [disabled]="disabled || activeTab !== 'monthly' || state.monthly.subTab !== 'specificWeekDay'"
                      (change)="regenerateCron($event)" [(ngModel)]="state.monthly.specificWeekDay.months"
                      [ngClass]="options.formSelectClass">
                <option *ngFor="let month of selectOptions.months" [ngValue]="month">
                  {{month}}
                </option>
              </select> month(s) at
              <cron-time-picker
                [disabled]="disabled || activeTab !== 'monthly' || state.monthly.subTab !== 'specificWeekDay'"
                (change)="regenerateCron($event)"
                [(model)]="state.monthly.specificWeekDay" [selectClass]="options.formSelectClass"
                [use24HourTime]="options.use24HourTime"
                [hideSeconds]="options.hideSeconds">
              </cron-time-picker>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
